
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Contacto</title>
</head>
<body>
    <h1>Formulario de Contacto</h1>
    <form>
        <label>Nombre: <input type="text" name="nombre" required></label><br><br>
        <label>Teléfono: <input type="text" name="telefono" required></label><br><br>
        <label>Correo: <input type="email" name="correo" required></label><br><br>
        <button type="submit">Enviar</button>
    </form>
    
<script>
document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");
    if (!form) return;

    form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const nombre = form.querySelector("[name='nombre']").value;
        const telefono = form.querySelector("[name='telefono']").value;
        const correo = form.querySelector("[name='correo']").value;

        const response = await fetch("https://erxgjoacksfghrddptvn.supabase.co/rest/v1/usuarios", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "apikey": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyeGdqb2Fja3NmZ2hyZGRwdHZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMTA0NTksImV4cCI6MjA2ODg4NjQ1OX0.v0iv9fLe61PVduo3s2HIRFpgAIcMpUik3u82SGYmLE0",
                "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyeGdqb2Fja3NmZ2hyZGRwdHZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMTA0NTksImV4cCI6MjA2ODg4NjQ1OX0.v0iv9fLe61PVduo3s2HIRFpgAIcMpUik3u82SGYmLE0"
            },
            body: JSON.stringify({ nombre, telefono, correo })
        });

        if (response.ok) {
            alert("Formulario enviado con éxito.");
            form.reset();
        } else {
            alert("Error al enviar el formulario.");
        }
    });
});
</script>

</body>
</html>
